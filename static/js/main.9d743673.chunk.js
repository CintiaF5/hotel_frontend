(this.webpackJsonphotel=this.webpackJsonphotel||[]).push([[0],{72:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(19),o=n.n(r),s=n(57),i=n(7),j=n(38),l=n(55),d=n(76),u=n(75),b=n(2),h=function(){return Object(b.jsxs)(d.a,{bg:"light",expand:"lg",children:[Object(b.jsx)(d.a.Brand,{href:"#inicio",children:"BOOKHOTEL"}),Object(b.jsx)(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(b.jsxs)(u.a,{className:"mr-auto",children:[Object(b.jsx)(u.a.Link,{href:"#inicio",children:"Home"}),Object(b.jsx)(u.a.Link,{href:"#/quartos",children:"Quartos"})]})})]})},O=function(){return Object(a.useEffect)((function(){document.title="BOOKHOTEL"}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(b.jsx)(h,{}),Object(b.jsxs)(l.a,{children:[Object(b.jsx)("h1",{children:"Seja Bem Vindo!"}),Object(b.jsx)("p",{children:"Esta \xe9 a \xe1rea administrativa do BookHotel"})]})]})})},x=n(22),p=n.n(x),f=n(39),m=n(50),g=n(44),v=n(21),C=n(51),k=n(27),y=n(45),q=n(56),E=n(10),w=n(23),S=n(28),T=n(46),L="https://backend-bookhotel.herokuapp.com",N=n(24),B=function(){var e={numero:"",andar:"",tipo:""},t=Object(a.useState)(e),n=Object(v.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)([]),s=Object(v.a)(o,2),i=s[0],l=s[1],d=Object(a.useState)(!1),u=Object(v.a)(d,2),O=u[0],x=u[1],B=Object(a.useState)(!1),H=Object(v.a)(B,2),A=H[0],F=H[1],I=Object(a.useState)(!1),D=Object(v.a)(I,2),Q=D[0],z=D[1],G=Object(a.useState)(""),J=Object(v.a)(G,2),K=J[0],P=J[1],_=Object(a.useState)({}),M=Object(v.a)(_,2),U=M[0],V=M[1],R=c.numero,W=c.andar,X=c.tipo;function Y(){return Z.apply(this,arguments)}function Z(){return(Z=Object(g.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),t="".concat(L,"/quartos"),e.next=4,fetch(t).then((function(e){return e.json()})).then((function(e){l(e.quartos)})).catch((function(e){console.error("Erro ao obter os quartos: ".concat(e.message))}));case 4:x(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){document.title="Cadastro de Quartos",Y()}),[]);var $=function(){var e={};return R&&""!==R||(e.numero="O n\xfamero do quarto n\xe3o pode ser vazio"),W&&""!==W||(e.andar="O andar do quarto n\xe3o pode ser vazio"),X&&""!==X||(e.tipo="O tipo do quarto n\xe3o pode ser vazio"),e},ee=function(e){r(Object(m.a)(Object(m.a)({},c),{},Object(f.a)({},e.target.name,e.target.value))),V({})};function te(){return(te=Object(g.a)(p.a.mark((function t(n){var a,o,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=$(),!(Object.keys(a).length>0)){t.next=6;break}V(a),t.next=12;break;case 6:return o=c.hasOwnProperty("_id")?"PUT":"POST",F(!0),s="".concat(L,"/quartos"),t.next=11,fetch(s,{method:o,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){console.log(t),t.sucesso?P("Quarto salvo com sucesso"):P(t.errors[0].message),r(e),Y()})).catch((function(e){console.error("Erro ao salvar o quarto: ".concat(e.message))}));case 11:F(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ne(){return(ne=Object(g.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(L,"/quartos/").concat(c._id),t.next=3,fetch(n,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.message?P(t.message):P(""),r(e),Y()})).catch((function(e){console.error("Erro ao excluir o quarto: ".concat(e.message))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(b.jsx)(h,{}),Object(b.jsx)(C.a,{className:"bg-info text-light",children:Object(b.jsx)(k.a,{children:Object(b.jsxs)("h3",{children:[Object(b.jsx)(N.d,{})," Quartos do BOOKHOTEL"]})})}),Object(b.jsxs)(C.a,{children:[Object(b.jsxs)(k.a,{xs:12,lg:6,children:[Object(b.jsxs)("h4",{children:[Object(b.jsx)(N.f,{})," Cadastro de Quartos"]}),Object(b.jsxs)(E.a,{method:"post",children:[Object(b.jsxs)(E.a.Group,{controlId:"numero",children:[Object(b.jsx)(E.a.Label,{children:"N\xfamero do quarto"}),Object(b.jsx)(E.a.Control,{name:"numero",placeholder:"Ex: 1",onChange:ee,value:R,isInvalid:!!U.numero}),Object(b.jsx)(E.a.Control.Feedback,{type:"invalid",children:U.numero})]}),Object(b.jsxs)(E.a.Group,{controlId:"andar",children:[Object(b.jsx)(E.a.Label,{children:"Andar do quarto"}),Object(b.jsx)(E.a.Control,{name:"andar",placeholder:"Ex: 1",onChange:ee,value:W,isInvalid:!!U.andar}),Object(b.jsx)(E.a.Control.Feedback,{type:"invalid",children:U.andar})]}),Object(b.jsxs)(E.a.Group,{controlId:"tipo",children:[Object(b.jsx)(E.a.Label,{children:"Tipo do quarto"}),Object(b.jsx)(E.a.Control,{name:"tipo",placeholder:"Ex: Luxo",onChange:ee,value:X,isInvalid:!!U.tipo}),Object(b.jsx)(E.a.Control.Feedback,{type:"invalid",children:U.tipo})]}),Object(b.jsxs)(w.a,{variant:"primary",type:"submit",title:"Salvar o registro",onClick:function(e){return function(e){return te.apply(this,arguments)}(e)},children:[A?Object(b.jsx)(y.a,{animation:"border",size:"sm"}):Object(b.jsx)(N.e,{}),"Salvar"]}),"\xa0",Object(b.jsxs)(w.a,{variant:"danger",type:"button",title:"Cancelar",onClick:function(){return r(e)},children:[Object(b.jsx)(N.a,{})," Cancelar"]})]})]}),Object(b.jsxs)(k.a,{xs:12,lg:6,children:[O&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y.a,{animation:"border",size:"sm"}),Object(b.jsx)(y.a,{animation:"grow",variant:"info"}),Object(b.jsx)("p",{children:"Aguarde, enquanto os quartos s\xe3o carregados..."})]}),Object(b.jsxs)(q.a,{striped:!0,bordered:!0,hover:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{className:"bg-warning text-dark",children:[Object(b.jsx)("th",{children:"N\xfamero"}),Object(b.jsx)("th",{children:"Andar"}),Object(b.jsx)("th",{children:"Tipo"}),Object(b.jsx)("th",{children:"Data de cadastro"}),Object(b.jsx)("th",{children:"Op\xe7\xf5es"})]})}),Object(b.jsxs)("tbody",{children:[i.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.numero}),Object(b.jsx)("td",{children:e.andar}),Object(b.jsx)("td",{children:e.tipo}),Object(b.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),Object(b.jsxs)("td",{children:[Object(b.jsx)(w.a,{variant:"outline-primary",title:"Editar",onClick:function(){return r(e)},children:Object(b.jsx)(N.c,{})}),"\xa0",Object(b.jsx)(w.a,{variant:"outline-danger",title:"Deletar",onClick:function(){r(e),z(!0)},children:Object(b.jsx)(N.b,{})})]})]},e._id)})),Object(b.jsxs)("tr",{className:"bg-dark text-light",children:[Object(b.jsx)("td",{colspan:"3",children:"Total de Quartos:"}),Object(b.jsx)("td",{children:i.length})]})]})]})]})]}),Object(b.jsxs)(S.a,{animation:!1,show:Q,onHide:function(){return z(!1)},children:[Object(b.jsx)(S.a.Header,{children:Object(b.jsx)(S.a.Title,{children:"Confirma\xe7\xe3o da Exclus\xe3o"})}),Object(b.jsx)(S.a.Body,{children:"Confirma a exclus\xe3o do quarto selecionado?"}),Object(b.jsxs)(S.a.Footer,{children:[Object(b.jsx)(w.a,{variant:"danger",onClick:function(){return z(!Q)},children:"Cancelar"}),Object(b.jsx)(w.a,{variant:"success",onClick:function(){z(!Q),function(){ne.apply(this,arguments)}()},children:"Confirmar"})]})]}),Object(b.jsxs)(T.a,{onClose:function(){return P("")},show:K.length>0,animation:!1,className:"bg-success",style:{position:"absolute",top:10,right:10},children:[Object(b.jsx)(T.a.Header,{children:"Aviso"}),Object(b.jsx)(T.a.Body,{classname:"text-light",children:K})]})]})})};function H(){return Object(b.jsx)(s.a,{children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/",component:O}),Object(b.jsx)(i.a,{exact:!0,path:"/quartos",component:B})]})})}n(71);var A=function(){return Object(b.jsx)(H,{})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.9d743673.chunk.js.map